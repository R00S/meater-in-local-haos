package U1;

import X1.C1804a;
import android.text.TextUtils;
import java.util.Arrays;
import java.util.Collections;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Objects;
import java.util.UUID;
import l8.C3915h;
import l8.InterfaceC3914g;
import m8.AbstractC4009y;
import o8.C4142b;

/* compiled from: Format.java */
/* loaded from: classes.dex */
public final class s {

    /* renamed from: O, reason: collision with root package name */
    private static final s f17099O = new b().M();

    /* renamed from: P, reason: collision with root package name */
    private static final String f17100P = X1.L.B0(0);

    /* renamed from: Q, reason: collision with root package name */
    private static final String f17101Q = X1.L.B0(1);

    /* renamed from: R, reason: collision with root package name */
    private static final String f17102R = X1.L.B0(2);

    /* renamed from: S, reason: collision with root package name */
    private static final String f17103S = X1.L.B0(3);

    /* renamed from: T, reason: collision with root package name */
    private static final String f17104T = X1.L.B0(4);

    /* renamed from: U, reason: collision with root package name */
    private static final String f17105U = X1.L.B0(5);

    /* renamed from: V, reason: collision with root package name */
    private static final String f17106V = X1.L.B0(6);

    /* renamed from: W, reason: collision with root package name */
    private static final String f17107W = X1.L.B0(7);

    /* renamed from: X, reason: collision with root package name */
    private static final String f17108X = X1.L.B0(8);

    /* renamed from: Y, reason: collision with root package name */
    private static final String f17109Y = X1.L.B0(9);

    /* renamed from: Z, reason: collision with root package name */
    private static final String f17110Z = X1.L.B0(10);

    /* renamed from: a0, reason: collision with root package name */
    private static final String f17111a0 = X1.L.B0(11);

    /* renamed from: b0, reason: collision with root package name */
    private static final String f17112b0 = X1.L.B0(12);

    /* renamed from: c0, reason: collision with root package name */
    private static final String f17113c0 = X1.L.B0(13);

    /* renamed from: d0, reason: collision with root package name */
    private static final String f17114d0 = X1.L.B0(14);

    /* renamed from: e0, reason: collision with root package name */
    private static final String f17115e0 = X1.L.B0(15);

    /* renamed from: f0, reason: collision with root package name */
    private static final String f17116f0 = X1.L.B0(16);

    /* renamed from: g0, reason: collision with root package name */
    private static final String f17117g0 = X1.L.B0(17);

    /* renamed from: h0, reason: collision with root package name */
    private static final String f17118h0 = X1.L.B0(18);

    /* renamed from: i0, reason: collision with root package name */
    private static final String f17119i0 = X1.L.B0(19);

    /* renamed from: j0, reason: collision with root package name */
    private static final String f17120j0 = X1.L.B0(20);

    /* renamed from: k0, reason: collision with root package name */
    private static final String f17121k0 = X1.L.B0(21);

    /* renamed from: l0, reason: collision with root package name */
    private static final String f17122l0 = X1.L.B0(22);

    /* renamed from: m0, reason: collision with root package name */
    private static final String f17123m0 = X1.L.B0(23);

    /* renamed from: n0, reason: collision with root package name */
    private static final String f17124n0 = X1.L.B0(24);

    /* renamed from: o0, reason: collision with root package name */
    private static final String f17125o0 = X1.L.B0(25);

    /* renamed from: p0, reason: collision with root package name */
    private static final String f17126p0 = X1.L.B0(26);

    /* renamed from: q0, reason: collision with root package name */
    private static final String f17127q0 = X1.L.B0(27);

    /* renamed from: r0, reason: collision with root package name */
    private static final String f17128r0 = X1.L.B0(28);

    /* renamed from: s0, reason: collision with root package name */
    private static final String f17129s0 = X1.L.B0(29);

    /* renamed from: t0, reason: collision with root package name */
    private static final String f17130t0 = X1.L.B0(30);

    /* renamed from: u0, reason: collision with root package name */
    private static final String f17131u0 = X1.L.B0(31);

    /* renamed from: v0, reason: collision with root package name */
    private static final String f17132v0 = X1.L.B0(32);

    /* renamed from: w0, reason: collision with root package name */
    private static final String f17133w0 = X1.L.B0(33);

    /* renamed from: A, reason: collision with root package name */
    public final byte[] f17134A;

    /* renamed from: B, reason: collision with root package name */
    public final int f17135B;

    /* renamed from: C, reason: collision with root package name */
    public final C1733i f17136C;

    /* renamed from: D, reason: collision with root package name */
    public final int f17137D;

    /* renamed from: E, reason: collision with root package name */
    public final int f17138E;

    /* renamed from: F, reason: collision with root package name */
    public final int f17139F;

    /* renamed from: G, reason: collision with root package name */
    public final int f17140G;

    /* renamed from: H, reason: collision with root package name */
    public final int f17141H;

    /* renamed from: I, reason: collision with root package name */
    public final int f17142I;

    /* renamed from: J, reason: collision with root package name */
    public final int f17143J;

    /* renamed from: K, reason: collision with root package name */
    public final int f17144K;

    /* renamed from: L, reason: collision with root package name */
    public final int f17145L;

    /* renamed from: M, reason: collision with root package name */
    public final int f17146M;

    /* renamed from: N, reason: collision with root package name */
    private int f17147N;

    /* renamed from: a, reason: collision with root package name */
    public final String f17148a;

    /* renamed from: b, reason: collision with root package name */
    public final String f17149b;

    /* renamed from: c, reason: collision with root package name */
    public final List<u> f17150c;

    /* renamed from: d, reason: collision with root package name */
    public final String f17151d;

    /* renamed from: e, reason: collision with root package name */
    public final int f17152e;

    /* renamed from: f, reason: collision with root package name */
    public final int f17153f;

    /* renamed from: g, reason: collision with root package name */
    public final int f17154g;

    /* renamed from: h, reason: collision with root package name */
    public final int f17155h;

    /* renamed from: i, reason: collision with root package name */
    public final int f17156i;

    /* renamed from: j, reason: collision with root package name */
    public final int f17157j;

    /* renamed from: k, reason: collision with root package name */
    public final String f17158k;

    /* renamed from: l, reason: collision with root package name */
    public final y f17159l;

    /* renamed from: m, reason: collision with root package name */
    public final Object f17160m;

    /* renamed from: n, reason: collision with root package name */
    public final String f17161n;

    /* renamed from: o, reason: collision with root package name */
    public final String f17162o;

    /* renamed from: p, reason: collision with root package name */
    public final int f17163p;

    /* renamed from: q, reason: collision with root package name */
    public final int f17164q;

    /* renamed from: r, reason: collision with root package name */
    public final List<byte[]> f17165r;

    /* renamed from: s, reason: collision with root package name */
    public final C1738n f17166s;

    /* renamed from: t, reason: collision with root package name */
    public final long f17167t;

    /* renamed from: u, reason: collision with root package name */
    public final boolean f17168u;

    /* renamed from: v, reason: collision with root package name */
    public final int f17169v;

    /* renamed from: w, reason: collision with root package name */
    public final int f17170w;

    /* renamed from: x, reason: collision with root package name */
    public final float f17171x;

    /* renamed from: y, reason: collision with root package name */
    public final int f17172y;

    /* renamed from: z, reason: collision with root package name */
    public final float f17173z;

    /* compiled from: Format.java */
    public static final class b {

        /* renamed from: A, reason: collision with root package name */
        private int f17174A;

        /* renamed from: B, reason: collision with root package name */
        private C1733i f17175B;

        /* renamed from: C, reason: collision with root package name */
        private int f17176C;

        /* renamed from: D, reason: collision with root package name */
        private int f17177D;

        /* renamed from: E, reason: collision with root package name */
        private int f17178E;

        /* renamed from: F, reason: collision with root package name */
        private int f17179F;

        /* renamed from: G, reason: collision with root package name */
        private int f17180G;

        /* renamed from: H, reason: collision with root package name */
        private int f17181H;

        /* renamed from: I, reason: collision with root package name */
        private int f17182I;

        /* renamed from: J, reason: collision with root package name */
        private int f17183J;

        /* renamed from: K, reason: collision with root package name */
        private int f17184K;

        /* renamed from: L, reason: collision with root package name */
        private int f17185L;

        /* renamed from: a, reason: collision with root package name */
        private String f17186a;

        /* renamed from: b, reason: collision with root package name */
        private String f17187b;

        /* renamed from: c, reason: collision with root package name */
        private List<u> f17188c;

        /* renamed from: d, reason: collision with root package name */
        private String f17189d;

        /* renamed from: e, reason: collision with root package name */
        private int f17190e;

        /* renamed from: f, reason: collision with root package name */
        private int f17191f;

        /* renamed from: g, reason: collision with root package name */
        private int f17192g;

        /* renamed from: h, reason: collision with root package name */
        private int f17193h;

        /* renamed from: i, reason: collision with root package name */
        private int f17194i;

        /* renamed from: j, reason: collision with root package name */
        private String f17195j;

        /* renamed from: k, reason: collision with root package name */
        private y f17196k;

        /* renamed from: l, reason: collision with root package name */
        private Object f17197l;

        /* renamed from: m, reason: collision with root package name */
        private String f17198m;

        /* renamed from: n, reason: collision with root package name */
        private String f17199n;

        /* renamed from: o, reason: collision with root package name */
        private int f17200o;

        /* renamed from: p, reason: collision with root package name */
        private int f17201p;

        /* renamed from: q, reason: collision with root package name */
        private List<byte[]> f17202q;

        /* renamed from: r, reason: collision with root package name */
        private C1738n f17203r;

        /* renamed from: s, reason: collision with root package name */
        private long f17204s;

        /* renamed from: t, reason: collision with root package name */
        private boolean f17205t;

        /* renamed from: u, reason: collision with root package name */
        private int f17206u;

        /* renamed from: v, reason: collision with root package name */
        private int f17207v;

        /* renamed from: w, reason: collision with root package name */
        private float f17208w;

        /* renamed from: x, reason: collision with root package name */
        private int f17209x;

        /* renamed from: y, reason: collision with root package name */
        private float f17210y;

        /* renamed from: z, reason: collision with root package name */
        private byte[] f17211z;

        public s M() {
            return new s(this);
        }

        public b N(int i10) {
            this.f17181H = i10;
            return this;
        }

        public b O(int i10) {
            this.f17192g = i10;
            return this;
        }

        public b P(int i10) {
            this.f17193h = i10;
            return this;
        }

        public b Q(int i10) {
            this.f17176C = i10;
            return this;
        }

        public b R(String str) {
            this.f17195j = str;
            return this;
        }

        public b S(C1733i c1733i) {
            this.f17175B = c1733i;
            return this;
        }

        public b T(String str) {
            this.f17198m = z.t(str);
            return this;
        }

        public b U(int i10) {
            this.f17185L = i10;
            return this;
        }

        public b V(int i10) {
            this.f17182I = i10;
            return this;
        }

        public b W(Object obj) {
            this.f17197l = obj;
            return this;
        }

        public b X(C1738n c1738n) {
            this.f17203r = c1738n;
            return this;
        }

        public b Y(int i10) {
            this.f17179F = i10;
            return this;
        }

        public b Z(int i10) {
            this.f17180G = i10;
            return this;
        }

        public b a0(float f10) {
            this.f17208w = f10;
            return this;
        }

        public b b0(boolean z10) {
            this.f17205t = z10;
            return this;
        }

        public b c0(int i10) {
            this.f17207v = i10;
            return this;
        }

        public b d0(int i10) {
            this.f17186a = Integer.toString(i10);
            return this;
        }

        public b e0(String str) {
            this.f17186a = str;
            return this;
        }

        public b f0(List<byte[]> list) {
            this.f17202q = list;
            return this;
        }

        public b g0(String str) {
            this.f17187b = str;
            return this;
        }

        public b h0(List<u> list) {
            this.f17188c = AbstractC4009y.B(list);
            return this;
        }

        public b i0(String str) {
            this.f17189d = str;
            return this;
        }

        public b j0(int i10) {
            this.f17200o = i10;
            return this;
        }

        public b k0(int i10) {
            this.f17201p = i10;
            return this;
        }

        public b l0(y yVar) {
            this.f17196k = yVar;
            return this;
        }

        public b m0(int i10) {
            this.f17178E = i10;
            return this;
        }

        public b n0(int i10) {
            this.f17194i = i10;
            return this;
        }

        public b o0(float f10) {
            this.f17210y = f10;
            return this;
        }

        public b p0(byte[] bArr) {
            this.f17211z = bArr;
            return this;
        }

        public b q0(int i10) {
            this.f17191f = i10;
            return this;
        }

        public b r0(int i10) {
            this.f17209x = i10;
            return this;
        }

        public b s0(String str) {
            this.f17199n = z.t(str);
            return this;
        }

        public b t0(int i10) {
            this.f17177D = i10;
            return this;
        }

        public b u0(int i10) {
            this.f17190e = i10;
            return this;
        }

        public b v0(int i10) {
            this.f17174A = i10;
            return this;
        }

        public b w0(long j10) {
            this.f17204s = j10;
            return this;
        }

        public b x0(int i10) {
            this.f17183J = i10;
            return this;
        }

        public b y0(int i10) {
            this.f17184K = i10;
            return this;
        }

        public b z0(int i10) {
            this.f17206u = i10;
            return this;
        }

        public b() {
            this.f17188c = AbstractC4009y.G();
            this.f17193h = -1;
            this.f17194i = -1;
            this.f17200o = -1;
            this.f17201p = -1;
            this.f17204s = Long.MAX_VALUE;
            this.f17206u = -1;
            this.f17207v = -1;
            this.f17208w = -1.0f;
            this.f17210y = 1.0f;
            this.f17174A = -1;
            this.f17176C = -1;
            this.f17177D = -1;
            this.f17178E = -1;
            this.f17181H = -1;
            this.f17182I = 1;
            this.f17183J = -1;
            this.f17184K = -1;
            this.f17185L = 0;
            this.f17192g = 0;
        }

        private b(s sVar) {
            this.f17186a = sVar.f17148a;
            this.f17187b = sVar.f17149b;
            this.f17188c = sVar.f17150c;
            this.f17189d = sVar.f17151d;
            this.f17190e = sVar.f17152e;
            this.f17191f = sVar.f17153f;
            this.f17193h = sVar.f17155h;
            this.f17194i = sVar.f17156i;
            this.f17195j = sVar.f17158k;
            this.f17196k = sVar.f17159l;
            this.f17197l = sVar.f17160m;
            this.f17198m = sVar.f17161n;
            this.f17199n = sVar.f17162o;
            this.f17200o = sVar.f17163p;
            this.f17201p = sVar.f17164q;
            this.f17202q = sVar.f17165r;
            this.f17203r = sVar.f17166s;
            this.f17204s = sVar.f17167t;
            this.f17205t = sVar.f17168u;
            this.f17206u = sVar.f17169v;
            this.f17207v = sVar.f17170w;
            this.f17208w = sVar.f17171x;
            this.f17209x = sVar.f17172y;
            this.f17210y = sVar.f17173z;
            this.f17211z = sVar.f17134A;
            this.f17174A = sVar.f17135B;
            this.f17175B = sVar.f17136C;
            this.f17176C = sVar.f17137D;
            this.f17177D = sVar.f17138E;
            this.f17178E = sVar.f17139F;
            this.f17179F = sVar.f17140G;
            this.f17180G = sVar.f17141H;
            this.f17181H = sVar.f17142I;
            this.f17182I = sVar.f17143J;
            this.f17183J = sVar.f17144K;
            this.f17184K = sVar.f17145L;
            this.f17185L = sVar.f17146M;
        }
    }

    private static String d(List<u> list, String str) {
        for (u uVar : list) {
            if (TextUtils.equals(uVar.f17224a, str)) {
                return uVar.f17225b;
            }
        }
        return list.get(0).f17225b;
    }

    private static boolean g(b bVar) {
        if (bVar.f17188c.isEmpty() && bVar.f17187b == null) {
            return true;
        }
        for (int i10 = 0; i10 < bVar.f17188c.size(); i10++) {
            if (((u) bVar.f17188c.get(i10)).f17225b.equals(bVar.f17187b)) {
                return true;
            }
        }
        return false;
    }

    /* JADX INFO: Access modifiers changed from: private */
    public static /* synthetic */ String h(u uVar) {
        return uVar.f17224a + ": " + uVar.f17225b;
    }

    public static String i(s sVar) {
        if (sVar == null) {
            return "null";
        }
        C3915h c3915hG = C3915h.g(',');
        StringBuilder sb2 = new StringBuilder();
        sb2.append("id=");
        sb2.append(sVar.f17148a);
        sb2.append(", mimeType=");
        sb2.append(sVar.f17162o);
        if (sVar.f17161n != null) {
            sb2.append(", container=");
            sb2.append(sVar.f17161n);
        }
        if (sVar.f17157j != -1) {
            sb2.append(", bitrate=");
            sb2.append(sVar.f17157j);
        }
        if (sVar.f17158k != null) {
            sb2.append(", codecs=");
            sb2.append(sVar.f17158k);
        }
        if (sVar.f17166s != null) {
            LinkedHashSet linkedHashSet = new LinkedHashSet();
            int i10 = 0;
            while (true) {
                C1738n c1738n = sVar.f17166s;
                if (i10 >= c1738n.f17090E) {
                    break;
                }
                UUID uuid = c1738n.e(i10).f17092C;
                if (uuid.equals(C1732h.f17048b)) {
                    linkedHashSet.add("cenc");
                } else if (uuid.equals(C1732h.f17049c)) {
                    linkedHashSet.add("clearkey");
                } else if (uuid.equals(C1732h.f17051e)) {
                    linkedHashSet.add("playready");
                } else if (uuid.equals(C1732h.f17050d)) {
                    linkedHashSet.add("widevine");
                } else if (uuid.equals(C1732h.f17047a)) {
                    linkedHashSet.add("universal");
                } else {
                    linkedHashSet.add("unknown (" + uuid + ")");
                }
                i10++;
            }
            sb2.append(", drm=[");
            c3915hG.b(sb2, linkedHashSet);
            sb2.append(']');
        }
        if (sVar.f17169v != -1 && sVar.f17170w != -1) {
            sb2.append(", res=");
            sb2.append(sVar.f17169v);
            sb2.append("x");
            sb2.append(sVar.f17170w);
        }
        if (!C4142b.a(sVar.f17173z, 1.0d, 0.001d)) {
            sb2.append(", par=");
            sb2.append(X1.L.G("%.3f", Float.valueOf(sVar.f17173z)));
        }
        C1733i c1733i = sVar.f17136C;
        if (c1733i != null && c1733i.i()) {
            sb2.append(", color=");
            sb2.append(sVar.f17136C.m());
        }
        if (sVar.f17171x != -1.0f) {
            sb2.append(", fps=");
            sb2.append(sVar.f17171x);
        }
        if (sVar.f17137D != -1) {
            sb2.append(", channels=");
            sb2.append(sVar.f17137D);
        }
        if (sVar.f17138E != -1) {
            sb2.append(", sample_rate=");
            sb2.append(sVar.f17138E);
        }
        if (sVar.f17151d != null) {
            sb2.append(", language=");
            sb2.append(sVar.f17151d);
        }
        if (!sVar.f17150c.isEmpty()) {
            sb2.append(", labels=[");
            c3915hG.b(sb2, m8.H.l(sVar.f17150c, new InterfaceC3914g() { // from class: U1.r
                @Override // l8.InterfaceC3914g
                public final Object apply(Object obj) {
                    return s.h((u) obj);
                }
            }));
            sb2.append("]");
        }
        if (sVar.f17152e != 0) {
            sb2.append(", selectionFlags=[");
            c3915hG.b(sb2, X1.L.l0(sVar.f17152e));
            sb2.append("]");
        }
        if (sVar.f17153f != 0) {
            sb2.append(", roleFlags=[");
            c3915hG.b(sb2, X1.L.k0(sVar.f17153f));
            sb2.append("]");
        }
        if (sVar.f17160m != null) {
            sb2.append(", customData=");
            sb2.append(sVar.f17160m);
        }
        if ((sVar.f17153f & 32768) != 0) {
            sb2.append(", auxiliaryTrackType=");
            sb2.append(X1.L.N(sVar.f17154g));
        }
        return sb2.toString();
    }

    public b b() {
        return new b();
    }

    public s c(int i10) {
        return b().U(i10).M();
    }

    public int e() {
        int i10;
        int i11 = this.f17169v;
        if (i11 == -1 || (i10 = this.f17170w) == -1) {
            return -1;
        }
        return i11 * i10;
    }

    public boolean equals(Object obj) {
        int i10;
        if (this == obj) {
            return true;
        }
        if (obj == null || s.class != obj.getClass()) {
            return false;
        }
        s sVar = (s) obj;
        int i11 = this.f17147N;
        if (i11 == 0 || (i10 = sVar.f17147N) == 0 || i11 == i10) {
            return this.f17152e == sVar.f17152e && this.f17153f == sVar.f17153f && this.f17154g == sVar.f17154g && this.f17155h == sVar.f17155h && this.f17156i == sVar.f17156i && this.f17163p == sVar.f17163p && this.f17167t == sVar.f17167t && this.f17169v == sVar.f17169v && this.f17170w == sVar.f17170w && this.f17172y == sVar.f17172y && this.f17135B == sVar.f17135B && this.f17137D == sVar.f17137D && this.f17138E == sVar.f17138E && this.f17139F == sVar.f17139F && this.f17140G == sVar.f17140G && this.f17141H == sVar.f17141H && this.f17142I == sVar.f17142I && this.f17144K == sVar.f17144K && this.f17145L == sVar.f17145L && this.f17146M == sVar.f17146M && Float.compare(this.f17171x, sVar.f17171x) == 0 && Float.compare(this.f17173z, sVar.f17173z) == 0 && Objects.equals(this.f17148a, sVar.f17148a) && Objects.equals(this.f17149b, sVar.f17149b) && this.f17150c.equals(sVar.f17150c) && Objects.equals(this.f17158k, sVar.f17158k) && Objects.equals(this.f17161n, sVar.f17161n) && Objects.equals(this.f17162o, sVar.f17162o) && Objects.equals(this.f17151d, sVar.f17151d) && Arrays.equals(this.f17134A, sVar.f17134A) && Objects.equals(this.f17159l, sVar.f17159l) && Objects.equals(this.f17136C, sVar.f17136C) && Objects.equals(this.f17166s, sVar.f17166s) && f(sVar) && Objects.equals(this.f17160m, sVar.f17160m);
        }
        return false;
    }

    public boolean f(s sVar) {
        if (this.f17165r.size() != sVar.f17165r.size()) {
            return false;
        }
        for (int i10 = 0; i10 < this.f17165r.size(); i10++) {
            if (!Arrays.equals(this.f17165r.get(i10), sVar.f17165r.get(i10))) {
                return false;
            }
        }
        return true;
    }

    public int hashCode() {
        if (this.f17147N == 0) {
            String str = this.f17148a;
            int iHashCode = (527 + (str == null ? 0 : str.hashCode())) * 31;
            String str2 = this.f17149b;
            int iHashCode2 = (((iHashCode + (str2 == null ? 0 : str2.hashCode())) * 31) + this.f17150c.hashCode()) * 31;
            String str3 = this.f17151d;
            int iHashCode3 = (((((((((((iHashCode2 + (str3 == null ? 0 : str3.hashCode())) * 31) + this.f17152e) * 31) + this.f17153f) * 31) + this.f17154g) * 31) + this.f17155h) * 31) + this.f17156i) * 31;
            String str4 = this.f17158k;
            int iHashCode4 = (iHashCode3 + (str4 == null ? 0 : str4.hashCode())) * 31;
            y yVar = this.f17159l;
            int iHashCode5 = (iHashCode4 + (yVar == null ? 0 : yVar.hashCode())) * 31;
            Object obj = this.f17160m;
            int iHashCode6 = (iHashCode5 + (obj == null ? 0 : obj.hashCode())) * 31;
            String str5 = this.f17161n;
            int iHashCode7 = (iHashCode6 + (str5 == null ? 0 : str5.hashCode())) * 31;
            String str6 = this.f17162o;
            this.f17147N = ((((((((((((((((((((((((((((((((((iHashCode7 + (str6 != null ? str6.hashCode() : 0)) * 31) + this.f17163p) * 31) + ((int) this.f17167t)) * 31) + this.f17169v) * 31) + this.f17170w) * 31) + Float.floatToIntBits(this.f17171x)) * 31) + this.f17172y) * 31) + Float.floatToIntBits(this.f17173z)) * 31) + this.f17135B) * 31) + this.f17137D) * 31) + this.f17138E) * 31) + this.f17139F) * 31) + this.f17140G) * 31) + this.f17141H) * 31) + this.f17142I) * 31) + this.f17144K) * 31) + this.f17145L) * 31) + this.f17146M;
        }
        return this.f17147N;
    }

    public s j(s sVar) {
        String str;
        if (this == sVar) {
            return this;
        }
        int iK = z.k(this.f17162o);
        String str2 = sVar.f17148a;
        int i10 = sVar.f17144K;
        int i11 = sVar.f17145L;
        String str3 = sVar.f17149b;
        if (str3 == null) {
            str3 = this.f17149b;
        }
        List<u> list = !sVar.f17150c.isEmpty() ? sVar.f17150c : this.f17150c;
        String str4 = this.f17151d;
        if ((iK == 3 || iK == 1) && (str = sVar.f17151d) != null) {
            str4 = str;
        }
        int i12 = this.f17155h;
        if (i12 == -1) {
            i12 = sVar.f17155h;
        }
        int i13 = this.f17156i;
        if (i13 == -1) {
            i13 = sVar.f17156i;
        }
        String str5 = this.f17158k;
        if (str5 == null) {
            String strR = X1.L.R(sVar.f17158k, iK);
            if (X1.L.n1(strR).length == 1) {
                str5 = strR;
            }
        }
        y yVar = this.f17159l;
        y yVarB = yVar == null ? sVar.f17159l : yVar.b(sVar.f17159l);
        float f10 = this.f17171x;
        if (f10 == -1.0f && iK == 2) {
            f10 = sVar.f17171x;
        }
        return b().e0(str2).g0(str3).h0(list).i0(str4).u0(this.f17152e | sVar.f17152e).q0(this.f17153f | sVar.f17153f).P(i12).n0(i13).R(str5).l0(yVarB).X(C1738n.d(sVar.f17166s, this.f17166s)).a0(f10).x0(i10).y0(i11).M();
    }

    public String toString() {
        return "Format(" + this.f17148a + ", " + this.f17149b + ", " + this.f17161n + ", " + this.f17162o + ", " + this.f17158k + ", " + this.f17157j + ", " + this.f17151d + ", [" + this.f17169v + ", " + this.f17170w + ", " + this.f17171x + ", " + this.f17136C + "], [" + this.f17137D + ", " + this.f17138E + "])";
    }

    private s(b bVar) {
        this.f17148a = bVar.f17186a;
        String strT0 = X1.L.T0(bVar.f17189d);
        this.f17151d = strT0;
        if (bVar.f17188c.isEmpty() && bVar.f17187b != null) {
            this.f17150c = AbstractC4009y.H(new u(strT0, bVar.f17187b));
            this.f17149b = bVar.f17187b;
        } else if (bVar.f17188c.isEmpty() || bVar.f17187b != null) {
            C1804a.g(g(bVar));
            this.f17150c = bVar.f17188c;
            this.f17149b = bVar.f17187b;
        } else {
            this.f17150c = bVar.f17188c;
            this.f17149b = d(bVar.f17188c, strT0);
        }
        this.f17152e = bVar.f17190e;
        C1804a.h(bVar.f17192g == 0 || (bVar.f17191f & 32768) != 0, "Auxiliary track type must only be set to a value other than AUXILIARY_TRACK_TYPE_UNDEFINED only when ROLE_FLAG_AUXILIARY is set");
        this.f17153f = bVar.f17191f;
        this.f17154g = bVar.f17192g;
        int i10 = bVar.f17193h;
        this.f17155h = i10;
        int i11 = bVar.f17194i;
        this.f17156i = i11;
        this.f17157j = i11 != -1 ? i11 : i10;
        this.f17158k = bVar.f17195j;
        this.f17159l = bVar.f17196k;
        this.f17160m = bVar.f17197l;
        this.f17161n = bVar.f17198m;
        this.f17162o = bVar.f17199n;
        this.f17163p = bVar.f17200o;
        this.f17164q = bVar.f17201p;
        this.f17165r = bVar.f17202q == null ? Collections.emptyList() : bVar.f17202q;
        C1738n c1738n = bVar.f17203r;
        this.f17166s = c1738n;
        this.f17167t = bVar.f17204s;
        this.f17168u = bVar.f17205t;
        this.f17169v = bVar.f17206u;
        this.f17170w = bVar.f17207v;
        this.f17171x = bVar.f17208w;
        this.f17172y = bVar.f17209x == -1 ? 0 : bVar.f17209x;
        this.f17173z = bVar.f17210y == -1.0f ? 1.0f : bVar.f17210y;
        this.f17134A = bVar.f17211z;
        this.f17135B = bVar.f17174A;
        this.f17136C = bVar.f17175B;
        this.f17137D = bVar.f17176C;
        this.f17138E = bVar.f17177D;
        this.f17139F = bVar.f17178E;
        this.f17140G = bVar.f17179F == -1 ? 0 : bVar.f17179F;
        this.f17141H = bVar.f17180G != -1 ? bVar.f17180G : 0;
        this.f17142I = bVar.f17181H;
        this.f17143J = bVar.f17182I;
        this.f17144K = bVar.f17183J;
        this.f17145L = bVar.f17184K;
        if (bVar.f17185L != 0 || c1738n == null) {
            this.f17146M = bVar.f17185L;
        } else {
            this.f17146M = 1;
        }
    }
}
